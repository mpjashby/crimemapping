<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="false" />

<title>Crime Mapping: Your second crime map</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->



</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-introduction" class="section level2">
<h2>Introduction</h2>
<p>We’ve already produced a simple map of crime in a neighbourhood, but we skipped over a lot of the details of how to do it. In this tutorial we will make another crime map, this time focusing more on each step in the process.</p>
<p>In this tutorial we will make a map of bicycle thefts in Vancouver in 2020. At the end of this tutorial, the final map will look something like this. We will then improve it further in the next tutorial on what makes a good map.</p>
<p><img src="05_your_second_crime_map_files/figure-html/final-map-1.png" width="100%" /></p>
</div>
<div id="section-handling-spatial-data" class="section level2">
<h2>Handling spatial data</h2>
<p>Maps are visual representations of spatial data. Spatial data is special because each row in the data is associated with some geographic feature such as a building, a street or a county. This adds some quirks that we have to understand to work with spatial data successfully.</p>
<div id="section-vectors-and-rasters" class="section level3">
<h3>Vectors and rasters</h3>
<p>Spatial data can be represented in two general formats: vectors and rasters. Watch this video from the UK mapping agency Ordnance Survey to find out more about the advantages and disadvantages of using each type of data.</p>
<p><img src="https://youtu.be/hbOGp51nYGI" /></p>
<p>As you saw in the video, in general vector data gives you more control over the appearance of a map, but at the cost of your having to put together each part of the data yourself, choose the styles etc. In contrast, raster data (such as the base map of Atlanta we used in the first map we made for this course) gives you less control but allows you to add pre-formatted data to your map quickly.</p>
</div>
<div id="section-spatial-layers" class="section level3">
<h3>Spatial layers</h3>
<p>Maps are made up of multiple layers of spatial data that are styled to represent features of interest and then stacked on top of one another to make the finished map. Watch this video to learn more about spatial layers and the three different types of vector data that we can use in maps.</p>
<p><img src="https://youtu.be/inJk4BEUm7A" /></p>
<p>Points, lines and polygons in spatial data are known as <em>geometric objects</em> or simply <em>geometries</em>. Spatial data is data that has a geometric object associated with each row.</p>
</div>
<div id="section-representing-places-on-the-earth" class="section level3">
<h3>Representing places on the earth</h3>
<p>Since maps are two-dimensional representations of the curved surface of the earth, map-makers must make choices about how to translate that curved surface onto a flat screen or piece of paper. This video introduces these choices, and explains why they are relevant to crime mapping.</p>
<p><img src="https://youtu.be/G5vxLucllr4" /></p>
<p>With any spatial data, we need a way of describing where on the earth a particular point (such as the location of a crime or the corner of a building) is located. Watch this video to find out about the different co-ordinate systems we can use to do this.</p>
<p><img src="https://youtu.be/A6HH-zDl9a0" /></p>
</div>
</div>
<div id="section-spatial-data-in-r" class="section level2">
<h2>Spatial data in R</h2>
<p><img src="images/sf.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>There are two different R packages that implement the concepts needed to handle spatial data. There are several packages that handle raster data from different sources – one of them is the <a href="https://github.com/dkahle/ggmap"><code>ggmap</code> package</a> that we already used to load the base map of Atlanta for the homicide map we made in one of the earlier tutorials.</p>
<p><a href="https://r-spatial.github.io/sf/" title="sf website"><img src="images/sf-package.gif" style="width: 33%; max-width: 150px; float: right; margin: 0 0 2em 2em;"></a></p>
<p>Vector data can be handled in R using functions from the <a href="https://r-spatial.github.io/sf/"><code>sf</code> package</a>. SF stands for ‘simple features’, which is a standard for storing spatial data. SF objects are data frames that have a special column to hold the geometry (point, line or polygon) associated with each row in the data. SF objects also understand what co-ordinate system the geometry are described in. This means SF objects can be transformed between co-ordinate systems and combined together in layers on a map.</p>
<p>There a lots of functions in the <code>sf</code> package for handling spatial data. Almost all of these functions begin with the letters <code>st_</code> (e.g. <code>st_read()</code>), which makes it easy to identify that those functions are designed to be used on SF objects.</p>
<div id="section-reading-spatial-data" class="section level3">
<h3>Reading spatial data</h3>
<p>The special features of spatial data – needing to store geometries, details of the projection used etc. – mean that spatial data is often stored in special file formats. There are lots of spatial-data formats, but fortunately almost all of them can be read by the <code>st_read()</code> function. This means we do not need to learn a different function for each spatial-data format.</p>
<p>While datasets with line or polygon geometries must almost always be stored in specific spatial-data formats, point data can also be stored in common data formats such as Excel and <abbr title="comma-separated values">CSV</abbr> files. The <a href="https://geodash.vpd.ca/opendata/">data for this tutorial</a> is provided by the Vancouver Police Department in a CSV file (gzipped to reduce the file size). The file is located at:</p>
<pre class="r"><code>https://github.com/mpjashby/crimemapping/raw/main/inst/extdata/vancouver_thefts.csv.gz</code></pre>
<p>Thinking back to the tutorial on data wrangling, what R code is needed to load this data into a tibble called <code>thefts</code>? Type the R code into the box below and click <code>Run Code</code> to see the result. If you need help, click the <code>Solution</code> button, but try to remember the code (or look up your notes from the data-wrangling tutorial) before revealing the solution – you’ll learn a lot more that way. Remember to load any necessary packages using the <code>library()</code> function!</p>
<div class="tutorial-exercise" data-label="read-exercise1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="read-exercise1-solution" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Since the data are stored in a regular CSV file, we can use the `read_csv()`
# function from the readr package to read the file, and the assignment operator
# `&lt;-` to store the data in the object `thefts`. `read_csv()` can read directly
# from a URL, so there is no need to download the data first.
library(tidyverse)

thefts &lt;- read_csv(&quot;https://github.com/mpjashby/crimemapping/raw/main/inst/extdata/vancouver_thefts.csv.gz&quot;)</code></pre>
</div>
<p>Now that you have stored the data in the <code>thefts</code> object, what code is needed to view the first few rows of data? Type the code into the box and click <code>Run Code</code> to check the result.</p>
<div class="tutorial-exercise" data-label="read-exercise2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="read-exercise2-solution" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># To view the contents of an object in R, just type the name of the object. If
# the object is a tibble (which we know is the type of object returned by
# `read_csv()`) then only the first few rows will be printed.

thefts</code></pre>
</div>
<p>The data consists of 16,827 rows, each representing one theft. Before we can map this data, we will need to do some minor data wrangling to get it into the format we want.</p>
<p><img src="images/janitor_clean_names.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>In the earlier tutorial about naming files, I recommended using file names that were lower case, used only letters, numbers, hyphens and underscores, and used underscores to separate words. These recommendations also apply to choosing object names and the names of columns in data frames. Doing this makes it much easier to refer to objects and columns in your code, without having to worry about whether a particular letter was upper- or lower-case, or whether it had an accent etc. This style of naming objects is called <em>snake case</em>, since it makes object names look a bit like a snake.</p>
<p>At the moment, the column names are upper-case letters. Rather than having to remember this, we can easily convert them to snake case using the <code>clean_names()</code> function from the <a href="https://github.com/sfirke/janitor"><code>janitor</code> package</a>. To use a function from a package, we usually first load the package using the <code>library()</code> function. In this case, we probably won’t want to use any other functions from the <code>janitor</code> package, so instead of loading the whole package we will use this one function directly. To do this, we write the function name with the package name added to the front, separated by <code>::</code>.</p>
<div class="tutorial-exercise" data-label="read-exercise3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>thefts &lt;- janitor::clean_names(thefts)

thefts</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>If we wanted to use the <code>clean_names()</code> function again, we would have to include the package name and <code>::</code> each time, so if our code was going to make repeated use of the function then it would probably be easier to load the package as we have done in previous tutorials.</p>
</div>
<div id="section-converting-our-data-to-an-sf-object" class="section level3">
<h3>Converting our data to an SF object</h3>
<p>At present, the data in the <code>thefts</code> object is just a regular tibble. We could not use it to make a map because R does not know which columns represent the geometry, or what co-ordinate system the locations are recorded in. We can deal with this by converting the data to an SF object using the <code>st_as_sf()</code> function from the <code>sf</code> package.</p>
<p>The data provided by the Vancouver Police use the UTM zone 10N co-ordinate system. <abbr title="Universal Transverse Mercator">UTM</abbr> is a system for assigning co-ordinates to any location on earth relative to a local origin point for the UTM zone covering that part of the planet. It is therefore similar to the British National Grid that we have already learned about, but for any part of the globe. The ‘N’ at the end of the zone name refers to the northern hemisphere.</p>
<p><img src="05_your_second_crime_map_files/figure-html/utm-map-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We can convert the <code>thefts</code> tibble to an SF object using the <code>st_as_sf()</code> function (remember, all functions in the <code>sf</code> package start with <code>st_</code>, which can sometimes make the function names a little confusing). We specify which columns in the data represent the geometry (in this case, the <code>x</code> and <code>y</code> columns), and what co-ordinate system the data uses.</p>
<p>Co-ordinate systems can be specified in lots of ways (some very complicated), but the easiest is to specify the <abbr title="European Petroleum Survey
Group">EPSG</abbr> code for the relevant system. An EPSG code is a unique reference number for a particular co-ordinate system that R can look up in a database to get the information needed to display the data on a map. The EPSG code for the UTM zone 10N is <code>32610</code>.</p>
<div class="tutorial-exercise" data-label="convert-exercise1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>library(sf)

thefts_sf &lt;- st_as_sf(thefts, coords = c(&quot;x&quot;, &quot;y&quot;), crs = 32610, remove = FALSE)

thefts_sf</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>If you look at the contents of the <code>thefts_sf</code> object, you’ll see that there is a new column called <code>geometry</code> (you may need to use the ▸ button to see it). We need to specify <code>remove = FALSE</code> because by-default the <code>st_as_sf()</code> function removes the data columns containing map co-ordinates once it has converted them into a geometric object stored in the geometry column. This is useful for making very-large datasets smaller (by removing redundant columns), but in this case we will need the <code>x</code> and <code>y</code> columns later, so we want to keep them in the dataset.</p>
</div>
<div id="section-finding-bike-thefts-in-our-data" class="section level3">
<h3>Finding bike thefts in our data</h3>
<p>If you look through the contents of the <code>thefts_sf</code> object, you will see that not all of the rows relate to bicycle thefts. The <code>type</code> column shows that the dataset also includes thefts from vehicles, for example. To choose only those rows containing bicycle thefts, which function from the <code>dplyr</code> package would we used? If you need help, you can think back to the data-wrangling tutorial or have a look at the <a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">Data transformation with dplyr cheat sheet</a>.</p>
<div class="panel panel-default">
<div data-label="filter-quiz" class="tutorial-question panel-body">
<div id="filter-quiz-answer_container" class="shiny-html-output"></div>
<div id="filter-quiz-message_container" class="shiny-html-output"></div>
<div id="filter-quiz-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>Type the code needed to choose only the rows of data that relate to bicycle thefts and store it in a new object called <code>bike_thefts</code>. Click the <code>Run Code</code> button to see the results of your code. If you get stuck, you can click the <code>Hint</code> buttons to get help, but try to find the answer on your own first!</p>
<div class="tutorial-exercise" data-label="filter-exercise1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="filter-exercise1-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Use the `filter()` function to choose particular rows in a dataset. The syntax 
# for `filter()` is `filter(dataset, column_name == &quot;value&quot;)`</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="filter-exercise1-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># In the code `filter(dataset, column_name == &quot;value&quot;)`, replace `dataset` with
# the name of the SF object you have already created from the `thefts` tibble,
# `column_name` with the name of the column containing the offence type and
# `value` with the offence type for bicycle theft.</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="filter-exercise1-hint-3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># The correct code to store only bicycle thefts in a new object is:
bike_thefts &lt;- filter(thefts_sf, type == &quot;Theft of Bicycle&quot;)</code></pre>
</div>
<p>Our data is now ready for us to make our crime map!</p>
<p style="margin: 2em 0; padding: 0.5em 1em; font-size: 75%; color: #666666; background-color: #EEEEEE;">
<a href="https://github.com/allisonhorst/stats-illustrations">Stats Illustrations by Allison Horst</a> licensed under the <a href="https://github.com/allisonhorst/stats-illustrations/blob/master/license">Creative Commons Attribution licence</a>.
</p>
</div>
</div>
<div id="section-producing-maps-in-r" class="section level2">
<h2>Producing maps in R</h2>
<p>Now that we have our data, we can use it to create a map of bicycle theft in Vancouver. Before we start, let’s take another look at our dataset so that we know which columns contain which data. Type the code needed to view the first few rows of the <code>bike_thefts</code> dataset and click <code>Run Code</code>.</p>
<div class="tutorial-exercise" data-label="map-exercise1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="map-exercise1-solution" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># To view the contents of an object in R, just type the name of the object. If
# the object is an SF object derived from a tibble (which is the case for our
# data) then only the first few rows will be printed.

bike_thefts</code></pre>
</div>
<div id="section-introduction-to-ggplot2" class="section level3">
<h3>Introduction to <code>ggplot2</code></h3>
<p><img src="images/ggplot2_masterpiece.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p><a href="https://ggplot2.tidyverse.org/" title="ggplot2 website"><img src="images/ggplot2.png" style="width: 33%; max-width: 150px; float: right; margin: 0 0 2em 2em;"></a></p>
<p>A map is a specialised type of chart, so we can make maps using the <a href="https://ggplot2.tidyverse.org/"><code>ggplot2</code> package</a> that is widely used to create other types of chart in R. <code>ggplot2</code> charts are made up of layers, so they’re well suited to making maps.</p>
<p>The most-basic map that we can make simply plots the locations of crimes with no context. This almost never makes a <em>good</em> crime map, but we can use this type of map as the foundation around which we can build a better map.</p>
<p><code>ggplot2</code> plots work by building up a chart using different functions, each of which adds or modifies some part of the chart. Building a plot starts with calling the <code>ggplot()</code> function, with each subsequent function being added to the plot definition using the <code>+</code> operator. Note that while the package is called <code>ggplot2</code>, the function in that package used to create plots is called <code>ggplot()</code>, <em>not</em> <code>ggplot2()</code>.</p>
<p>The most-important of the <code>ggplot2</code> functions are those beginning with <code>geom_</code>, which add graphical elements to the chart. If you want to add a layer to your chart showing a scatter plot, you use the <code>geom_point()</code> function, while if you want to make a line chart you use <code>geom_line()</code>.</p>
<p><img src="05_your_second_crime_map_files/figure-html/example-charts-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>There are lots of <code>geom_</code> functions available for representing data on charts in different ways. For maps, the SF package includes the <code>geom_sf()</code> function that is designed to add spatial data (in the form of an SF object such as our <code>bike_thefts</code> data) to a chart, making it into a map. So to simply plot the points in our bicycle-theft data, we can use the code:</p>
<div class="tutorial-exercise" data-label="map-exercise2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>library(ggplot2)

ggplot() +
  geom_sf(data = bike_thefts)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>By convention, each function that we add to <code>ggplot()</code> to change the appearance of our map goes on a new line (this makes the code easier to read) and all but the first line is indented by two spaces. RStudio does this indenting automatically if the previous line ends with a <code>+</code> symbol, since RStudio then understands that there is more code to come on the next line.</p>
</div>
<div id="section-controlling-aesthetics" class="section level3">
<h3>Controlling aesthetics</h3>
<p>We can change the appearance of the points by specifying various arguments to the <code>geom_sf()</code> function. These arguments are called <em>aesthetics</em>, because they control the aesthetic appearance of the geometric objects (points, lines etc) produced by a <code>geom_</code> function. There are lots of aesthetics, but some of the most common are:</p>
<ul>
<li><code>colour</code> controls the colour of points and lines (for polygons, it controls the colour of the border around the polygon edge) – you can also use the spelling <code>color</code> for this argument and get an identical result,</li>
<li><code>fill</code> controls the colour used to fill polygons or points that use a shape capable of having different colours in the centre and around the edge (<code>fill</code> has no meaning for lines),</li>
<li><code>shape</code> controls the shape (circle, triangle, square etc.) of points (it has no meaning for points or polygons),</li>
<li><code>size</code> controls the size of points and the thickness of lines (for polygons, it controls the thickness of the border around the polygon edge), as well as the size of text, and</li>
<li><code>alpha</code> controls the transparency of a layer (<code>alpha = 1</code> equals fully opaque, <code>alpha = 0</code> means fully transparent).</li>
</ul>
<p><code>colour</code> and <code>fill</code> can be specified using <a href="http://bc.bojanorama.pl/wp-content/uploads/2013/04/rcolorsheet.pdf">any one of 657 R colour names</a> or using a <a href="https://htmlcolorcodes.com/#color-codes">hexidecimal (‘hex’) colour code</a>. Values of <code>size</code> don’t relate to any unit of size (e.g. millimetres or points), so it’s easiest to set the size of points and text by trial and error.</p>
<p>There are 25 built-in shapes for points in R (shape 16 is the default):</p>
<p><img src="05_your_second_crime_map_files/figure-html/ggplot-shapes-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Change the code below so that the points on our map are red squares instead of black circles (<code>red</code> is one of the 657 R colour names) and click <code>Run Code</code> to see the result. Use the hints if you need help, but try to work it out on your own first.</p>
<div class="tutorial-exercise" data-label="map-exercise3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_sf(data = bike_thefts)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="map-exercise3-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Use the `shape` aesthetic to change the points to squares and the `colour`
# aesthetic to change the point colour to red</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="map-exercise3-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Add the arguments `shape = 15` and `colour = &quot;red&quot;` to the `geom_sf()`
# function, remembering that arguments are separated by commas</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="map-exercise3-hint-3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_sf(data = bike_thefts, shape = 15, colour = &quot;red&quot;)</code></pre>
</div>
<p>This basic map is accurate, but not very useful. We can see that there seems to be a cluster of bike thefts towards the top (north) of the map, but it is difficult to see how important this cluster is because so many of the points overlap. Overlapping points are a particular problem in maps, because if there are multiple crimes at the same location then the points representing those crimes will be exactly on top of one another and it will be impossible to see whether there is one crime at a particular location or 100.</p>
<p>One way to deal with this problem is to make the points semi-transparent so that overlapping points appear darker. This often also needs us to make the points slightly smaller at the same time. Use the <code>alpha</code> and <code>size</code> aesthetics to make the points smaller (relative to the default of <code>size = 1</code>) and semi-transparent. Keep changing the values of the two aesthetics until you are happy that the map makes it as easy as possible to see the distribution of bike thefts in Vancouver.</p>
<div class="tutorial-exercise" data-label="map-exercise4" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_sf(data = bike_thefts)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="map-exercise4-solution" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_sf(data = bike_thefts, size = 0.75, alpha = 0.1)</code></pre>
</div>
<p>Making the points semi-transparent goes some way to making it easier to see where bike theft is most common in Vancouver, but the pattern is not clear and if it is not possible to tell which darker points represent a handful of crimes at the same location and which represent hundreds of crimes at the same location. To make our map useful, we need to use a different technique.</p>
</div>
</div>
<div id="section-mapping-crime-density" class="section level2">
<h2>Mapping crime density</h2>
<p>Unless we want to produce a map of only a very small number of crimes (like the Atlanta downtown homicides map we produced in a previous tutorial), it is unlikely that a point map will be very useful. In fact, if you find yourself making map with each crime represented by a separate point, you should probably stop and ask yourself if that is really the best way to achieve your goal.</p>
<p>A better way to show where crime is concentrated on a map is to work out the <em>density</em> of crime in each area and then map that density. Fortunately, the <code>ggplot</code> package has a <code>geom_</code> function that does this for us automatically: <code>geom_density_2d_filled()</code>.</p>
<p><code>geom_density_2d_filled()</code> is a function from the <code>ggplot2</code> package, not the <code>sf</code> package, so it doesn’t understand SF objects. Fortunately, when we created the <code>bike_thefts</code> dataset we chose to keep the x and y co-ordinates of each crime in separate columns, which is what <code>geom_density_2d_filled()</code> needs to estimate the density of crimes across the surface of our map.</p>
<p>Since our data contain several columns, we need to specify which columns contain the x and y co-ordinates of each bike theft. To do this, we use the <code>aes()</code> function from <code>ggplot2</code>. We have already seen that we can set aesthetics such as colour and shape manually, but <code>aes()</code> allows us to specify columns in the data that should be represented using different aesthetics. So just as the <code>colour</code> aesthetic specifies what colour a point or line should be, the <code>x</code> and <code>y</code> aesthetics specify where on the horizontal and vertical axes data should be represented.</p>
<p>In the <code>bike_thefts</code> data, the co-ordinates of the theft locations are contained in the <code>x</code> and <code>y</code> columns, so to tell <code>geom_density_2d_filled()</code> to use the data in these columns we just have to add <code>aes(x = x, y = y)</code> to our code.</p>
<p>The <code>geom_sf()</code> function that we used in our point map automatically extracted from the <code>bike_thefts</code> SF object the information needed to understand the co-ordinate system used when the data were first created by the Vancouver Police. The <code>geom_density_2d_filled()</code> function cannot do this because it does not understand SF objects, so instead we will provide this information manually by adding a call to the function <code>coord_sf()</code>. remember that <code>32610</code> is the EPSG code for the UTM zone 10N co-ordinate system.</p>
<div class="tutorial-exercise" data-label="map-exercise5" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_density_2d_filled(aes(x = x, y = y), data = bike_thefts) +
  coord_sf(crs = 32610)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>Now, instead of seeing each crime as a separate point, we see the density of crime as filled contours. By comparing this density map to the point map we produced before, we can see that the density map makes the areas with the highest frequency of thefts much easier to identify.</p>
<p>You can also see that our map now has a legend, showing that higher densities of bike thefts are shown on the map in yellow and lower densities are shown in blue. The exact values shown in the legend are not particularly meaningful, so we can ignore these for now.</p>
<div id="section-fine-tuning-density-maps" class="section level3">
<h3>Fine-tuning density maps</h3>
<p>The <code>geom_density_2d_filled()</code> function uses a technique called <em>kernel density estimation</em> (KDE) to estimate the density of points in each part of a map. To does this, the function must:</p>
<ol style="list-style-type: decimal">
<li>divide the map into a grid of cells, each the same size,</li>
<li>count the number of points in each cell,</li>
<li>for each cell, count the number of points in nearby cells, but give less weight to (i.e. systematically undercount) those cells that are further away,</li>
<li>for each cell, total up the count of points in that cell and the (weighted) count of points in nearby cells – this is the estimate of the density of points in that cell.</li>
</ol>
<p>This procedure has the effect of producing a smooth surface representing crime density. We can control the appearance of the density surface on our map by varying the number of cells in the grid and the definition of what cells the kernel density estimation process should consider to be ‘nearby’ for the purposes of calculating weighted counts. Cells are considered to be ‘nearby’ to a particular cell if they are closer to that cell than a distance known as the KDE <em>bandwidth</em>.</p>
<p>By default, <code>geom_density_2d_filled()</code> uses a 100-cell by 100-cell grid, and the optimal bandwidth is calculated automatically. The maps below show how changing these defaults changes the appearance of our map (with the legend and axes removed to make the small maps clearer).</p>
<p><img src="05_your_second_crime_map_files/figure-html/kde-bandwidth-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>By looking at the maps in the top two rows, you can see that reducing the number of grid cells below the default of 100 leads to a map that looks blocky, but that increasing the number of grid cells above 100 doesn’t make much different (it might do if we needed to make a very large map).</p>
<p>Looking at the middle column of maps, you can see that increasing the bandwidth relative to the default makes the density surface smoother. The smoother the surface, the less detail we can see about where crime is most concentrated, until on the top row we can see almost no information at all. On the other hand, if we reduce the bandwidth too much (the bottom row of maps) then almost no ‘nearby’ cells are included in the count and so it becomes more difficult to identify patterns.</p>
<p>In most cases, you will not need to change the number of grid cells used in calculating the density of points on a map, but if you do then you can do this using the <code>n</code> argument to <code>geom_density_2d_filled()</code> (e.g. <code>n = 200</code>).</p>
<p>Although you can set the bandwidth manually using the <code>h</code> argument to <code>geom_density_2d_filled()</code>, you will almost never want to do this. Instead, you can vary the bandwidth relative to the automatically chosen default bandwidth by using the <code>adjust</code> argument to <code>geom_density_2d_filled()</code>. For example, if you wanted to see more detail in your map by using a smaller bandwidth, you could use <code>adjust = 0.5</code> or <code>adjust = 1/2</code> to set the bandwidth to be one-half of the default bandwidth.</p>
<p>Change the code below so that the bandwidth is two thirds of the default bandwidth and click <code>Run Code</code> to see the result.</p>
<div class="tutorial-exercise" data-label="map-exercise6" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_density_2d_filled(aes(x = x, y = y), data = bike_thefts) +
  coord_sf(crs = 32610)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="map-exercise6-solution" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># you can set either `adjust = 2/3` or `adjust = 0.67` to get the same result
ggplot() +
  geom_density_2d_filled(aes(x = x, y = y), data = bike_thefts, adjust = 2/3) +
  coord_sf(crs = 32610)</code></pre>
</div>
<p>We can also fine-tune our density map by choosing the number of different categories used to represent different densities on the map. If we use too few categories (such as the map below that uses only two) then areas with very different densities will be represented on the map as if they are the same. If we use more categories, eventually the map becomes more cluttered and then (as in the map below with 50 categories) the map starts to have a blurry appearance. The default number of categories is approximately 10, but if we want to change the number of categories then we can use the <code>bins</code> argument to <code>geom_density_2d_filled()</code>, e.g. <code>bins = 20</code>.</p>
<p><img src="05_your_second_crime_map_files/figure-html/kde-bins-1.png" width="100%" /></p>
<p>The final way we can control the appearance of our density layer is to change the colour scheme used to represent density. To do this, we can use another type of <code>ggplot2</code> function: scales. There are lots of scales available, but the <code>scale_fill_brewer()</code> function produces several different colour scales that are specifically designed to be effective on maps.</p>
<p>All the available colour schemes are on the <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">Color Brewer website</a>. Colour schemes can be divided into three types:</p>
<ul>
<li><em>sequential</em> colour schemes are useful for showing values from low to high,</li>
<li><em>diverging</em> colour schemes are useful for showing values relative to a meaningful central point, and</li>
<li><em>qualitative</em> colour schemes are useful for showing separate categories that can appear in any order and still be meaningful.</li>
</ul>
<p>In crime mapping we’re usually interested in showing how crime varies from low to high, so we need to use a sequential colour palette. There are 18 sequential colour schemes (or palettes) available in <code>scales_fill_brewer()</code>, each with a name:</p>
<p><img src="05_your_second_crime_map_files/figure-html/kde-colours-1.png" width="100%" /></p>
<p>You can think of all the functions that we can add to <code>ggplot()</code> as being like a stack of pancakes, with each new function being placed on the top of the stack. To change the colour of our map, we just add <code>scale_fill_brewer()</code> to the existing stack. At the same time, we will use <code>bins = 9</code> to specify that our map should show nine categories of density, since Color Brewer palettes only have nine values.</p>
<div class="tutorial-exercise" data-label="map-exercise7" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_density_2d_filled(aes(x = x, y = y), data = bike_thefts, bins = 9) +
  scale_fill_brewer(palette = &quot;Oranges&quot;) +
  coord_sf(crs = 32610)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
</div>
</div>
<div id="section-adding-a-base-map" class="section level2">
<h2>Adding a base map</h2>
<p>You now have the skills to make a density map of bike theft in Vancouver. Using your notes and the code in the previous section, complete the code needed to generate a map with:</p>
<ol style="list-style-type: decimal">
<li>kernel density calculated using the default number of grid cells and <em>half</em> the default band width, and</li>
<li>the density shown using nine categories and the Color Brewer ‘Purples’ colour scheme.</li>
</ol>
<div class="tutorial-exercise" data-label="basemap-exercise1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="5">
<pre class="text"><code>ggplot() +</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="basemap-exercise1-solution" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>ggplot() +
  geom_density_2d_filled(aes(x = x, y = y), data = bike_thefts, adjust = 1/2, bins = 9) +
  scale_fill_brewer(palette = &quot;Purples&quot;) +
  coord_sf(crs = 32610)</code></pre>
</div>
<p>This map is much more effective than a point map at allowing us to identify where the highest number of bike thefts in Vancouver occur. However, it’s still quite difficult to know <em>where</em> those places are, because we cannot easily work out where in the city these places are. We can make this much easier by adding a <em>base map</em> underneath the density layer.</p>
<p>We can add a base map using the <a href="https://github.com/dkahle/ggmap"><code>ggmap</code> package</a>. To do this, we:</p>
<ol style="list-style-type: decimal">
<li>Transform the co-ordinate system used in our data to the World Geodetic System (often known as WGS84), which is what functions from the <code>ggmap</code> package work with.</li>
<li>Extract the transformed co-ordinates using <code>st_coordinates()</code>, since <code>geom_density_2d_filled()</code> cannot do this automatically.</li>
<li>Find the <em>bounding box</em> of our spatial data, which is the co-ordinates of the smallest possible box that would cover all our data points. We do this using the <code>st_bbox()</code> function from the <code>sf</code> package.</li>
<li>Download a base map for that area using the <code>get_stamenmap()</code> function from the <code>ggmap</code> package.</li>
<li>Create a map showing that base map layer using the <code>ggmap()</code> function.</li>
<li>Add the density layer to that map.</li>
</ol>
<p>Using the <code>%&gt;%</code> (pipe) operator from the <code>magrittr</code> package, we can do all of this in one piece of code. I have used comments (lines beginning with <code>#</code>) to annotate the code so that it’s easier to read (even though this makes the code quite a bit longer). Don’t worry if it takes you a few minutes to work through it all!</p>
<div class="tutorial-exercise" data-label="basemap-exercise2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="35">
<pre class="text"><code># transform the data into the co-ordinate system used by the functions in the
# ggmap package
bike_thefts &lt;- st_transform(bike_thefts, 4326)

# extract the co-ordinates from the transformed data, since 
# geom_density_2d_filled() cannot do this automatically
bike_theft_coords &lt;- st_coordinates(bike_thefts) %&gt;% 
  # st_coordinates() returns the co-ordinates in a format that&#39;s hard to work
  # with, so we convert the co-ordinates back to a tibble and clean the column 
  # names
  as_tibble() %&gt;% 
  janitor::clean_names()

bike_thefts %&gt;% 
  # find the bounding box of the data
  st_bbox() %&gt;% 
  # change the names of the values to those expected by get_stamenmap()
  set_names(c(&quot;left&quot;, &quot;bottom&quot;, &quot;right&quot;, &quot;top&quot;)) %&gt;% 
  # download the base map data, which comes in the format of tiled images
  get_stamenmap() %&gt;% 
  # plot the base map tiles on a map
  # NOTE: ggmap is a replacement for ggplot, so after this line we have to 
  # add layers to the map using +, not %&gt;%
  ggmap() +
  # add the density layer, remembering to make it slightly transparent so that
  # we can see the base map behind it
  geom_density_2d_filled(aes(x = x, y = y), data = bike_theft_coords, bins = 9, 
                         alpha = 0.75) +
  # set the sequential colour scheme of our choice
  scale_fill_brewer(palette = &quot;Purples&quot;) +
  # suppress the map legend -- we will learn more about these next lines of code
  # in a future tutorial
  theme_void() + 
  theme(legend.position = &quot;none&quot;)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":"100%","warning":true,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>The base maps returned by <code>get_stamenmap()</code> are available at many different <a href="https://wiki.openstreetmap.org/wiki/Zoom_levels">zoom levels</a>, from level 1 that is useful for mapping the whole world in one map, to level 20 that can be used to map a single building. The default zoom level is 10, which in this case does not give us quite enough detail. We can change the zoom level using the <code>zoom</code> argument of the <code>get_stamenmap()</code> function – try changing it to <code>zoom = 12</code> and running the code above to see more detail in the base map.</p>
<p><code>get_stamenmap()</code> also gives us access to several different types of base map. The default style (seen in the map above) is called ‘terrain’, but either ‘terrain-lines’ or ‘toner-lite’ is probably the best choice for a base map, since a map with more muted colours is less likely to distract from the crime data. We can specify which style of base map we want using the <code>maptype</code> argument to <code>get_stamenmap()</code>.</p>
<p><img src="05_your_second_crime_map_files/figure-html/stamen-styles-1.png" width="100%" /></p>
</div>
<div id="section-adding-more-layers" class="section level2">
<h2>Adding more layers</h2>
<p><img src="images/pancakes.jpg" alt="a stack of pancakes" style="width: 33%; max-width: 300px; float: right; margin: 0 0 2em 2em; border: 1px solid #333;"></p>
<p>Adding a base map underneath our density layer has made it much easier to understand where the highest densities of bike theft in Vancouver are. But our map could make it easier still to see where clusters of thefts occur. We could, for example, add the names of different neighbourhoods in the city, and show the city limits so that we can tell which areas have no crime because crimes in those areas are not included in our data.</p>
<p>In an earlier section I suggested we can think of ggplot charts, including maps, as being like stacks of pancakes – each function we use to amend the appearance of our chart is added to the top of the stack. So to add another layer to our map, we just add another <code>geom_</code> function to our plot.</p>
<p>The City of Vancouver provides boundary data for city neighbourhoods on its website in <a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON format</a>. This is a spatial data format, so it can be read by <code>st_read()</code>. We can then add the layer to our map using <code>geom_sf()</code> in the same way as for the point layer in our first map.</p>
<div class="tutorial-exercise" data-label="layers-exercise1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>nbhds &lt;- st_read(&quot;https://opendata.vancouver.ca/explore/dataset/local-area-boundary/download/?format=geojson&quot;)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>When we add the new layer using <code>geom_sf()</code>, we have to specify the argument <code>inherit.aes = FALSE</code> to tell <code>geom_sf()</code> not to try to use the aesthetics provided by the <code>ggmap()</code> function – otherwise the code will produce an error complaining <code>object 'lon' not found</code>.</p>
<p><a href="https://stringr.tidyverse.org/" title="stringr website"><img src="images/stringr.png" style="width: 33%; max-width: 150px; float: right; margin: 0 0 2em 2em;"></a></p>
<p>We can also add labels to the plot at the centre of each neighbourhood using the <code>geom_sf_label()</code> function. We use the <code>aes()</code> function to specify which column in the <code>nbhds</code> dataset we want to use for the label text. Normally, we would use the code <code>aes(label = name)</code> to do this, but in this case we want to wrap the labels so that they don’t overlap adjacent neighbourhoods, To do this we can use the <code>str_wrap()</code> from the <a href="https://stringr.tidyverse.org"><code>stringr</code> package</a> (part of the tidyverse), so that our code instead becomes:</p>
<pre class="r"><code>aes(label = str_wrap(name, width = 10))</code></pre>
<p><code>geom_sf_label()</code> uses quite a lot of arguments to control the appearance of the labels:</p>
<ul>
<li><code>alpha = 0.5</code> to make the label background semi-transparent so that we can see the density layer underneath it,</li>
<li><code>colour = "seagreen3"</code> to slightly reduce the prominence of the label text to avoid distracting attention from the density layer,</li>
<li><code>lineheight = 1</code> to reduce the gap between lines in each label,</li>
<li><code>size = 2.5</code> to slightly reduce the size of the label text,</li>
<li><code>label.padding = unit(0.1, "lines")</code> to reduce the size of the label background around the text, and</li>
<li><code>label.size = NA</code> to remove the default border around the label background.</li>
</ul>
<p>Since the neighbourhoods layer covers a slightly larger area than the crimes area, in this map we base the bounding box on the neighbourhoods layer to make sure the base map covers the entire area we are interested in.</p>
<p>Putting all this together, we get our final map:</p>
<div class="tutorial-exercise" data-label="layers-exercise2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="21">
<pre class="text"><code>nbhds %&gt;% 
  st_bbox() %&gt;% 
  set_names(c(&quot;left&quot;, &quot;bottom&quot;, &quot;right&quot;, &quot;top&quot;)) %&gt;% 
  get_stamenmap(zoom = 12, maptype = &quot;toner-background&quot;) %&gt;% 
  ggmap() +
  geom_density_2d_filled(aes(x = x, y = y), data = bike_theft_coords, bins = 9, 
                         alpha = 0.75, na.rm = TRUE) +
  # NEW CODE STARTS HERE
  # add the neighbourhood boundaries
  geom_sf(data = nbhds, colour = &quot;seagreen3&quot;, fill = NA, inherit.aes = FALSE) +
  # add the neighbourhood names
  geom_sf_label(
    aes(label = str_wrap(name, width = 10)), data = nbhds, alpha = 0.5, 
    colour = &quot;seagreen&quot;, lineheight = 1, size = 2.5, 
    label.padding = unit(0.1, &quot;lines&quot;), label.size = NA, inherit.aes = FALSE
  ) +
  # NEW CODE ENDS HERE
  scale_fill_brewer(palette = &quot;Purples&quot;) +
  theme_void() + 
  theme(legend.position = &quot;none&quot;)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":"100%","warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
</div>
<div id="section-in-summary" class="section level2">
<h2>In summary</h2>
<p>In this tutorial we have learned to produce a density map of crime. This type of map can be very useful in identifying where practitioners should focus efforts to respond to crime. For example, a map like this might help local police to decide where to send officers to carry out extra patrols, while a crime-prevention charity might decide to run events in particular areas to educate people on how best to protect their bikes.</p>
<p>In the next tutorial, we will learn how to improve this map further.</p>
<p>You can find out more about some of the things we have covered in this tutorial using these resources:</p>
<ul>
<li>Find out more about making all sorts of charts (not just maps) with the <code>ggplot2</code> package in the <a href="https://r4ds.had.co.nz/data-visualisation.html">Data Visualisation chapter of <em>R for Data Science</em></a> by Hadley Wickham and Garrett Grolemund.</li>
<li>Learn more about making maps using simple features in <a href="https://keen-swartz-3146c4.netlify.app/intro.html">Chapter 1 of <em>Spatial Data Science</em></a> by Edzer Pebesma and Roger Bivand.</li>
</ul>

<script type="application/shiny-prerendered" data-context="server-start">
library(cowplot)
library(ggmap)
library(learnr)
library(sf)
library(tidyverse)
knitr::opts_chunk$set(echo = FALSE)

# read data
thefts <- janitor::clean_names(read_csv("../../extdata/vancouver_thefts.csv.gz"))
thefts_sf <- st_as_sf(thefts, coords = c("x", "y"), crs = 32610, remove = FALSE)
bike_thefts <- filter(thefts_sf, type == "Theft of Bicycle")
nbhds <- st_read("https://opendata.vancouver.ca/explore/dataset/local-area-boundary/download/?format=geojson")
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-read-exercise1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-read-exercise1-code-editor`)), session)
output$`tutorial-exercise-read-exercise1-output` <- renderUI({
  `tutorial-exercise-read-exercise1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-read-exercise2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-read-exercise2-code-editor`)), session)
output$`tutorial-exercise-read-exercise2-output` <- renderUI({
  `tutorial-exercise-read-exercise2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-read-exercise3-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-read-exercise3-code-editor`)), session)
output$`tutorial-exercise-read-exercise3-output` <- renderUI({
  `tutorial-exercise-read-exercise3-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-convert-exercise1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-convert-exercise1-code-editor`)), session)
output$`tutorial-exercise-convert-exercise1-output` <- renderUI({
  `tutorial-exercise-convert-exercise1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "filter-quiz",     question = structure("Which function from the <code>dplyr<\u002fcode> package should we use to remove all the rows from our dataset except those for bicycle thefts?", html = TRUE, class = c("html",     "character")), answers = list(structure(list(id = "lnr_ans_fe28222",         option = "`filter()`", value = "`filter()`", label = structure("<code>filter()<\u002fcode>", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_fb90d1e",         option = "`select()`", value = "`select()`", label = structure("<code>select()<\u002fcode>", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Nearly right. The <code>select()<\u002fcode> function allows us to choose particular <em>columns<\u002fem> from our dataset -- in this case, we want to choose particular <em>rows<\u002fem>.", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8125168",         option = "`mutate()`", value = "`mutate()`", label = structure("<code>mutate()<\u002fcode>", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Not quite. The <code>mutate()<\u002fcode> function allows us to change the values in existing columns in our dataset, or add new columns.", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_c6bf928",         option = "`summarise()`", value = "`summarise()`", label = structure("<code>summarise()<\u002fcode>", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Not quite. The <code>summarsise()<\u002fcode> function allows us to create summaries of the values of columns, either for the whole dataset or groups of rows.", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer"))), button_labels = list(submit = structure("Submit Answer", html = TRUE, class = c("html",     "character")), try_again = structure("Try Again", html = TRUE, class = c("html",     "character"))), messages = list(correct = structure("Correct! Success!", html = TRUE, class = c("html",     "character")), try_again = structure("Let&#39;s try it again.", html = TRUE, class = c("html",     "character")), incorrect = structure("Let&#39;s try it again.", html = TRUE, class = c("html",     "character")), message = NULL, post_message = NULL), ids = list(        answer = "filter-quiz-answer", question = "filter-quiz"),     loading = structure("<strong>Loading:<\u002fstrong> \nWhich function from the <code>dplyr<\u002fcode> package should we use to remove all the rows from our dataset except those for bicycle thefts?\n<br/><br/><br/>", html = TRUE, class = c("html",     "character")), random_answer_order = TRUE, allow_retry = TRUE,     seed = 568734403.235162, options = list()), class = c("learnr_radio", "tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-filter-exercise1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-filter-exercise1-code-editor`)), session)
output$`tutorial-exercise-filter-exercise1-output` <- renderUI({
  `tutorial-exercise-filter-exercise1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-map-exercise1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-map-exercise1-code-editor`)), session)
output$`tutorial-exercise-map-exercise1-output` <- renderUI({
  `tutorial-exercise-map-exercise1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-map-exercise2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-map-exercise2-code-editor`)), session)
output$`tutorial-exercise-map-exercise2-output` <- renderUI({
  `tutorial-exercise-map-exercise2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-map-exercise3-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-map-exercise3-code-editor`)), session)
output$`tutorial-exercise-map-exercise3-output` <- renderUI({
  `tutorial-exercise-map-exercise3-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-map-exercise4-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-map-exercise4-code-editor`)), session)
output$`tutorial-exercise-map-exercise4-output` <- renderUI({
  `tutorial-exercise-map-exercise4-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-map-exercise5-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-map-exercise5-code-editor`)), session)
output$`tutorial-exercise-map-exercise5-output` <- renderUI({
  `tutorial-exercise-map-exercise5-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-map-exercise6-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-map-exercise6-code-editor`)), session)
output$`tutorial-exercise-map-exercise6-output` <- renderUI({
  `tutorial-exercise-map-exercise6-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-map-exercise7-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-map-exercise7-code-editor`)), session)
output$`tutorial-exercise-map-exercise7-output` <- renderUI({
  `tutorial-exercise-map-exercise7-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-basemap-exercise1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-basemap-exercise1-code-editor`)), session)
output$`tutorial-exercise-basemap-exercise1-output` <- renderUI({
  `tutorial-exercise-basemap-exercise1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-basemap-exercise2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-basemap-exercise2-code-editor`)), session)
output$`tutorial-exercise-basemap-exercise2-output` <- renderUI({
  `tutorial-exercise-basemap-exercise2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-layers-exercise1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-layers-exercise1-code-editor`)), session)
output$`tutorial-exercise-layers-exercise1-output` <- renderUI({
  `tutorial-exercise-layers-exercise1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-layers-exercise2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-layers-exercise2-code-editor`)), session)
output$`tutorial-exercise-layers-exercise2-output` <- renderUI({
  `tutorial-exercise-layers-exercise2-result`()
})
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","bitops","broom","cellranger","checkmate","class","classInt","cli","colorspace","compiler","cowplot","crayon","curl","datasets","DBI","dbplyr","digest","dplyr","e1071","ellipsis","evaluate","fansi","farver","fastmap","forcats","fs","generics","ggmap","ggplot2","glue","graphics","grDevices","grid","gtable","haven","hms","htmltools","htmlwidgets","httpuv","httr","isoband","janitor","jpeg","jsonlite","KernSmooth","knitr","labeling","later","lattice","learnr","lifecycle","lubridate","magrittr","markdown","MASS","methods","mime","modelr","munsell","pillar","pkgconfig","plyr","png","promises","purrr","R6","RColorBrewer","Rcpp","readr","readxl","reprex","RgoogleMaps","rjson","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","sf","shiny","snakecase","sp","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","units","utils","vctrs","viridisLite","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.2.1","4.0.3","1.0-6","0.7.3","1.1.0","2.0.0","7.3-17","0.4-3","2.2.0","2.0-0","4.0.3","1.1.1","1.3.4","4.3","4.0.3","1.1.0","2.0.0","0.6.27","1.0.2","1.7-4","0.3.1","0.14","0.4.1","2.0.3","1.0.1","0.5.0","1.5.0","0.1.0","3.0.0","3.3.3","1.4.2","4.0.3","4.0.3","4.0.3","0.3.0","2.3.1","1.0.0","0.5.1","1.5.3","1.5.5","1.4.2","0.2.3","2.0.1","0.1-8.1","1.7.2","2.23-18","1.30","0.4.2","1.1.0.1","0.20-41","0.10.1","0.2.0","1.7.9.2","2.0.1","1.1","7.3-53","4.0.3","0.9","0.1.8","0.5.0","1.4.7","2.0.3","1.8.6","0.1-7","1.1.1","0.3.4","2.5.0","1.1-2","1.0.6","1.4.0","1.3.1","0.3.0","1.4.5.3","0.2.20","0.4.10","2.6","2.0.2","0.13","0.3.6","1.1.1","0.9-7","1.5.0","0.11.0","1.4-5","4.0.3","1.5.3","1.4.0","3.0.4","1.1.2","1.1.0","1.3.0","4.0.3","0.6-7","4.0.3","0.3.6","0.3.0","2.3.0","0.20","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Crime Mapping: Your second crime map</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
